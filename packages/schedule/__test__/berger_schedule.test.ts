import { bergerSchedule } from "../berger.schedule";

describe("单循环-贝格尔编排法", () => {
  test("不足两队", () => {
    expect(() => bergerSchedule(["A1"])).toThrow("对阵不足两队");
  });

  test("2个队对阵", () => {
    expect(bergerSchedule(["A1", "A2"])).toEqual([[["A1", "A2"]]]);
  });

  test("3个队对阵", () => {
    expect(bergerSchedule(["A1", "A2", "A3"])).toEqual([
      [["A2", "A3"]],
      [["A1", "A2"]],
      [["A3", "A1"]],
    ]);
  });

  test("4个队对阵", () => {
    expect(bergerSchedule(["A1", "A2", "A3", "A4"])).toEqual([
      [
        ["A1", "A4"],
        ["A2", "A3"],
      ],
      [
        ["A4", "A3"],
        ["A1", "A2"],
      ],
      [
        ["A2", "A4"],
        ["A3", "A1"],
      ],
    ]);
  });

  test("5个队对阵", () => {
    expect(bergerSchedule(["A1", "A2", "A3", "A4", "A5"])).toEqual([
      [
        ["A2", "A5"],
        ["A3", "A4"],
      ],
      [
        ["A5", "A3"],
        ["A1", "A2"],
      ],
      [
        ["A3", "A1"],
        ["A4", "A5"],
      ],
      [
        ["A1", "A4"],
        ["A2", "A3"],
      ],
      [
        ["A4", "A2"],
        ["A5", "A1"],
      ],
    ]);
  });

  test("6个队对阵", () => {
    expect(bergerSchedule(["A1", "A2", "A3", "A4", "A5", "A6"])).toEqual([
      [
        ["A1", "A6"],
        ["A2", "A5"],
        ["A3", "A4"],
      ],
      [
        ["A6", "A4"],
        ["A5", "A3"],
        ["A1", "A2"],
      ],
      [
        ["A2", "A6"],
        ["A3", "A1"],
        ["A4", "A5"],
      ],
      [
        ["A6", "A5"],
        ["A1", "A4"],
        ["A2", "A3"],
      ],
      [
        ["A3", "A6"],
        ["A4", "A2"],
        ["A5", "A1"],
      ],
    ]);
  });
  test("7个队对阵", () => {
    expect(bergerSchedule(["A1", "A2", "A3", "A4", "A5", "A6", "A7"])).toEqual([
      [
        ["A2", "A7"],
        ["A3", "A6"],
        ["A4", "A5"],
      ],
      [
        ["A6", "A4"],
        ["A7", "A3"],
        ["A1", "A2"],
      ],
      [
        ["A3", "A1"],
        ["A4", "A7"],
        ["A5", "A6"],
      ],
      [
        ["A7", "A5"],
        ["A1", "A4"],
        ["A2", "A3"],
      ],
      [
        ["A4", "A2"],
        ["A5", "A1"],
        ["A6", "A7"],
      ],
      [
        ["A1", "A6"],
        ["A2", "A5"],
        ["A3", "A4"],
      ],
      [
        ["A5", "A3"],
        ["A6", "A2"],
        ["A7", "A1"],
      ],
    ]);
  });
  test("8个队对阵", () => {
    expect(
      bergerSchedule(["A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8"])
    ).toEqual([
      [
        ["A1", "A8"],
        ["A2", "A7"],
        ["A3", "A6"],
        ["A4", "A5"],
      ],
      [
        ["A8", "A5"],
        ["A6", "A4"],
        ["A7", "A3"],
        ["A1", "A2"],
      ],
      [
        ["A2", "A8"],
        ["A3", "A1"],
        ["A4", "A7"],
        ["A5", "A6"],
      ],
      [
        ["A8", "A6"],
        ["A7", "A5"],
        ["A1", "A4"],
        ["A2", "A3"],
      ],
      [
        ["A3", "A8"],
        ["A4", "A2"],
        ["A5", "A1"],
        ["A6", "A7"],
      ],
      [
        ["A8", "A7"],
        ["A1", "A6"],
        ["A2", "A5"],
        ["A3", "A4"],
      ],
      [
        ["A4", "A8"],
        ["A5", "A3"],
        ["A6", "A2"],
        ["A7", "A1"],
      ],
    ]);
  });
  test("10个队对阵", () => {
    expect(
      bergerSchedule([
        "A1",
        "A2",
        "A3",
        "A4",
        "A5",
        "A6",
        "A7",
        "A8",
        "A9",
        "A10",
      ])
    ).toEqual([
      [
        ["A1", "A10"],
        ["A2", "A9"],
        ["A3", "A8"],
        ["A4", "A7"],
        ["A5", "A6"],
      ],
      [
        ["A10", "A6"],
        ["A7", "A5"],
        ["A8", "A4"],
        ["A9", "A3"],
        ["A1", "A2"],
      ],
      [
        ["A2", "A10"],
        ["A3", "A1"],
        ["A4", "A9"],
        ["A5", "A8"],
        ["A6", "A7"],
      ],
      [
        ["A10", "A7"],
        ["A8", "A6"],
        ["A9", "A5"],
        ["A1", "A4"],
        ["A2", "A3"],
      ],
      [
        ["A3", "A10"],
        ["A4", "A2"],
        ["A5", "A1"],
        ["A6", "A9"],
        ["A7", "A8"],
      ],
      [
        ["A10", "A8"],
        ["A9", "A7"],
        ["A1", "A6"],
        ["A2", "A5"],
        ["A3", "A4"],
      ],
      [
        ["A4", "A10"],
        ["A5", "A3"],
        ["A6", "A2"],
        ["A7", "A1"],
        ["A8", "A9"],
      ],
      [
        ["A10", "A9"],
        ["A1", "A8"],
        ["A2", "A7"],
        ["A3", "A6"],
        ["A4", "A5"],
      ],
      [
        ["A5", "A10"],
        ["A6", "A4"],
        ["A7", "A3"],
        ["A8", "A2"],
        ["A9", "A1"],
      ],
    ]);
  });
});
